#include <stdio.h>

#define MAXN 105
#define MAXM 505
#define INF 1000000000

int n, m;
int u[MAXM], v[MAXM], w[MAXM];
int dist[MAXN], visited[MAXN];

int main() {
    int i, j, e;
    int s, t;
    int minDist, x, y;

    scanf("%d%d", &n, &m);

    for (i = 0; i < m; i++) {
        scanf("%d%d%d", &u[i], &v[i], &w[i]);
    }

    scanf("%d%d", &s, &t);

    for (i = 1; i <= n; i++) {
        dist[i] = INF;
        visited[i] = 0;
    }
    dist[s] = 0;

    for (i = 1; i <= n; i++) {
        minDist = INF;
        x = -1;

        for (j = 1; j <= n; j++) {
            if (!visited[j] && dist[j] < minDist) {
                minDist = dist[j];
                x = j;
            }
        }

        if (x == -1)
            break;

        visited[x] = 1;

        for (e = 0; e < m; e++) {
            if (u[e] == x) {
                y = v[e];
                if (dist[y] > dist[x] + w[e])
                    dist[y] = dist[x] + w[e];
            }
            if (v[e] == x) {   /* đồ thị vô hướng */
                y = u[e];
                if (dist[y] > dist[x] + w[e])
                    dist[y] = dist[x] + w[e];
            }
        }
    }

    if (dist[t] == INF)
        printf("-1");
    else
        printf("%d", dist[t]);

    return 0;
}
